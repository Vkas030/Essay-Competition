{% extends 'base.html' %}

{% block extra_css %}

{% endblock %}

{% block content %}

<!-- Hero Section -->
<section class="hero">
    <div class="hero-glow"></div>
    <div class="container">
        <div class="hero-content">
            <div class="hero-badge">
                <i data-lucide="globe" style="width: 16px; height: 16px;"></i>
                <span>Open to 150+ Countries</span>
            </div>
            
            <h1 class="hero-title">
                Global Essay<br>
                <span class="text-gradient-gold">Writing Contest</span><br>
                2024
            </h1>
            
            <p class="hero-subtitle">
                Join thousands of writers from around the world in the most prestigious 
                international essay competition. Share your voice, win recognition, 
                and compete for $50,000 in prizes.
            </p>
            
            <div class="hero-buttons">
                <a href="{% url 'tasks:submit_task' %}" class="btn btn-primary btn-lg">
                    <i data-lucide="pen-tool" style="width: 20px; height: 20px;"></i>
                    Submit Your Essay
                </a>
                <a href="#about" class="btn btn-outline btn-lg">Learn More</a>
            </div>
            
            <div class="hero-stats">
                <div>
                    <div id="stat-1" class="hero-stat-value" data-goal="150">150+</div>
                    <div class="hero-stat-label">Countries</div>
                </div>
                <div>
                    <div id="stat-2" class="hero-stat-value" data-goal="50">
                        $50K
                    </div>
                    <div class="hero-stat-label">In Prizes</div>
                </div>
                <div>
                    <div id="stat-3" class="hero-stat-value" data-goal="10">10K+</div>
                    <div class="hero-stat-label">Participants</div>
                </div>
                <div>
                    <div id="stat-4" class="hero-stat-value" data-goal="5">5</div>
                    <div class="hero-stat-label">Categories</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- About Section -->
<section id="about" class="about">
    <div class="container">
        <div class="about-grid">
            <div>
                <div class="about-badge">
                    <i data-lucide="info" style="width: 16px; height: 16px;"></i>
                    <span>About the Contest</span>
                </div>
                
                <h2 class="about-title">
                    Celebrating the Art of<br>
                    <span class="text-gradient-gold">Written Expression</span>
                </h2>
                
                <p class="about-text">
                    The Global Essay Writing Contest brings together aspiring writers, scholars, 
                    and creative minds from every corner of the world. Our mission is to 
                    provide a platform where diverse voices can be heard and celebrated.
                </p>
                
                <p class="about-text">
                    Now in its 12th year, our contest has helped launch the careers of 
                    hundreds of writers, with many going on to publish books, win literary 
                    awards, and become influential voices in their communities.
                </p>
            </div>
            
            <div class="about-cards">
                <div class="about-card">
                    <div class="about-card-icon">
                        <i data-lucide="globe-2" style="width: 24px; height: 24px;"></i>
                    </div>
                    <h3 class="about-card-title">Global Reach</h3>
                    <p class="about-card-text">Open to writers from all countries and backgrounds</p>
                </div>
                
                <div class="about-card">
                    <div class="about-card-icon">
                        <i data-lucide="award" style="width: 24px; height: 24px;"></i>
                    </div>
                    <h3 class="about-card-title">Prestigious</h3>
                    <p class="about-card-text">Recognized by universities and publishers worldwide</p>
                </div>
                
                <div class="about-card">
                    <div class="about-card-icon">
                        <i data-lucide="users" style="width: 24px; height: 24px;"></i>
                    </div>
                    <h3 class="about-card-title">Community</h3>
                    <p class="about-card-text">Join a network of passionate writers globally</p>
                </div>
                
                <div class="about-card">
                    <div class="about-card-icon">
                        <i data-lucide="sparkles" style="width: 24px; height: 24px;"></i>
                    </div>
                    <h3 class="about-card-title">Opportunity</h3>
                    <p class="about-card-text">Launch your writing career with us</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contest Details Section -->
<section id="contest" class="contest">
    <div class="container">
        <div class="contest-header">
            <div class="contest-badge">
                <i data-lucide="trophy" style="width: 16px; height: 16px;"></i>
                <span>Contest Details</span>
            </div>
            
            <h2 class="contest-title">Everything You Need to Know</h2>
            <p class="contest-subtitle">
                Comprehensive information about prizes, deadlines, and eligibility requirements
            </p>
        </div>
        
        <div class="contest-grid">
            <!-- Prizes Card -->
            <div class="contest-card">
                <div class="contest-card-icon">
                    <i data-lucide="trophy" style="width: 28px; height: 28px;"></i>
                </div>
                <h3 class="contest-card-title">Prizes & Awards</h3>
                <ul class="contest-card-list">
                    <li><span class="dot"></span>1st Place: $20,000 + Publication</li>
                    <li><span class="dot"></span>2nd Place: $10,000 + Mentorship</li>
                    <li><span class="dot"></span>3rd Place: $5,000 + Certificate</li>
                    <li><span class="dot"></span>Top 10: $1,500 Each</li>
                    <li><span class="dot"></span>Honorable Mentions: $500 Each</li>
                </ul>
            </div>
            
            <!-- Deadlines Card -->
            <div class="contest-card">
                <div class="contest-card-icon">
                    <i data-lucide="calendar" style="width: 28px; height: 28px;"></i>
                </div>
                <h3 class="contest-card-title">Important Dates</h3>
                <ul class="contest-card-list">
                    <li><span class="dot"></span>Registration Opens: Jan 15, 2024</li>
                    <li><span class="dot"></span>Early Submission: Mar 31, 2024</li>
                    <li><span class="dot"></span>Final Deadline: Jun 30, 2024</li>
                    <li><span class="dot"></span>Judging Period: Jul - Aug 2024</li>
                    <li><span class="dot"></span>Winners Announced: Sep 15, 2024</li>
                </ul>
            </div>
            
            <!-- Eligibility Card -->
            <div class="contest-card">
                <div class="contest-card-icon">
                    <i data-lucide="check-circle" style="width: 28px; height: 28px;"></i>
                </div>
                <h3 class="contest-card-title">Eligibility</h3>
                <ul class="contest-card-list">
                    <li><span class="dot"></span>Age: 16 years and above</li>
                    <li><span class="dot"></span>Open to all nationalities</li>
                    <li><span class="dot"></span>Original, unpublished work only</li>
                    <li><span class="dot"></span>English language submissions</li>
                    <li><span class="dot"></span>One entry per participant</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- How to Participate Section -->
<section id="participate" class="participate">
    <div class="container">
        <div class="participate-header">
            <div class="participate-badge">
                <i data-lucide="rocket" style="width: 16px; height: 16px;"></i>
                <span>Getting Started</span>
            </div>
            
            <h2 class="participate-title">How to Participate</h2>
            <p class="participate-subtitle">
                Follow these simple steps to submit your essay and join the competition
            </p>
        </div>
        
        <div class="steps">
            <div class="steps-line"></div>
            
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h3 class="step-title">Create Your Account</h3>
                    <p class="step-text">
                        Register on our platform with your email address. You'll receive 
                        a confirmation email with your unique participant ID.
                    </p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h3 class="step-title">Choose Your Category</h3>
                    <p class="step-text">
                        Select from five categories: Creative Fiction, Academic Research, 
                        Personal Narrative, Persuasive Essay, or Poetry.
                    </p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h3 class="step-title">Write Your Essay</h3>
                    <p class="step-text">
                        Craft your masterpiece following our guidelines. Essays should be 
                        1,500-3,000 words, original, and unpublished.
                    </p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h3 class="step-title">Submit & Wait</h3>
                    <p class="step-text">
                        Upload your essay through your dashboard. Our panel of international 
                        judges will review all submissions carefully.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section id="register" class="cta">
    <div class="cta-glow"></div>
    <div class="container">
        <div class="cta-content">            
            <h2 class="cta-title">
                Ready to Share<br>
                <span class="text-gradient-gold">Your Story?</span>
            </h2>
            
            <p class="cta-text">
                Join thousands of writers from around the world. Your unique perspective 
                deserves to be heard.
            </p>
            
            <div class="cta-buttons">
                
                <a href="{% url 'tasks:submit_task' %}" class="btn btn-primary btn-lg">
                    Check your grammar
                </a>
                <a href="#" class="btn btn-outline btn-lg">
                    <i data-lucide="mail" style="width: 20px; height: 20px;"></i>
                    Contact Us
                </a>
            </div>
            
            <p class="cta-note">
                <i data-lucide="shield-check" style="width: 16px; height: 16px; display: inline; vertical-align: middle;"></i>
                Free grammar check • No hidden fees • Secure submission
            </p>
        </div>
    </div>
</section>

<!-- Footer -->

{% endblock %}

{% block extra_js %}
<script>
    // Mobile menu toggle (basic functionality)
    document.querySelector('.mobile-menu-btn')?.addEventListener('click', function() {
        const links = document.querySelector('.navbar-links');
        links.style.display = links.style.display === 'flex' ? 'none' : 'flex';
        links.style.flexDirection = 'column';
        links.style.position = 'absolute';
        links.style.top = '80px';
        links.style.left = '0';
        links.style.right = '0';
        links.style.background = 'var(--background)';
        links.style.padding = '1rem';
        links.style.borderBottom = '1px solid var(--border)';
    });

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({ behavior: 'smooth' });
            }
        });
    });

    // Stats counter animation
    document.addEventListener('DOMContentLoaded', () => {
        const stats = [
            { id: 'stat-1', goal: 150, suffix: '+' },
            { id: 'stat-2', goal: 50, prefix: '$', suffix: 'K' },
            { id: 'stat-3', goal: 10, suffix: 'K+' },
            { id: 'stat-4', goal: 5, suffix: '' }
        ];

        const animateStat = (entry, observer) => {
            if (!entry.isIntersecting) return;

            const el = entry.target;
            const stat = stats.find(s => s.id === el.id);
            if (!stat) return;

            const duration = 2000;
            const frameRate = 1000 / 60;
            const totalFrames = Math.round(duration / frameRate);
            let frame = 0;

            const counter = setInterval(() => {
                frame++;
                const progress = frame / totalFrames;
                const current = Math.round(stat.goal * progress);
                
                let output = '';
                if (stat.prefix) output += stat.prefix;
                output += current;
                if (stat.suffix) output += stat.suffix;

                el.textContent = output;

                if (frame === totalFrames) {
                    clearInterval(counter);
                    // Ensure final value is exact
                    el.textContent = `${stat.prefix || ''}${stat.goal}${stat.suffix || ''}`;
                }
            }, frameRate);

            observer.unobserve(el);
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => animateStat(entry, observer));
        }, { threshold: 0.5 });

        stats.forEach(stat => {
            const el = document.getElementById(stat.id);
            if (el) {
                observer.observe(el);
            }
        });
    });
</script>
{% endblock %}
